# Kubernetes Cluster Role - Default Variables (CloudStack CKS)
---
# CloudStack API connection
cloudstack_api_url: ""
cloudstack_api_key: ""
cloudstack_api_secret: ""

# Admin credentials (used if API keys not provided)
cloudstack_admin_username: "admin"
cloudstack_admin_password: ""

# Kubernetes clusters to create
kubernetes_clusters: []
# Example:
#   - name: "k8s-prod"
#     description: "Production Kubernetes Cluster"
#     zone: "Zone1"                    # Zone name (will lookup ID)
#     kubernetes_version: "v1.33.1"    # Version name (will lookup ID)
#     service_offering: "CKS Instance" # Service offering name (will lookup ID)
#     network: ""                      # Network name (optional, auto-created if empty)
#     size: 2                          # Number of worker nodes
#     control_nodes: 1                 # Number of control plane nodes (HA: 3)
#     node_root_disk_size: 20          # Root disk size in GB
#     external_load_balancer: ""       # External LB IP for HA (optional)
#     docker_registry_username: ""     # Private registry username (optional)
#     docker_registry_password: ""     # Private registry password (optional)
#     docker_registry_url: ""          # Private registry URL (optional)

# CKS-ready template configuration
# Ubuntu 22.04 with Docker/containerd pre-installed for CKS
kubernetes_cks_template:
  name: "CKS-Ubuntu-22.04"
  display_text: "CKS-ready Ubuntu 22.04 LTS template for Kubernetes"
  url: "https://cloud-images.ubuntu.com/releases/22.04/release/ubuntu-22.04-server-cloudimg-amd64.img"
  format: "QCOW2"
  hypervisor: "KVM"
  os_type: "Ubuntu 22.04 LTS"
  zone: "Zone1"
  is_public: true
  password_enabled: false
  sshkey_enabled: true
  # Features enabled:
  # - direct_download: true
  # - featured: true
  # - dynamically_scalable: true
  # - hvm: true

# Default cluster settings
kubernetes_cluster_defaults:
  size: 1
  control_nodes: 1
  node_root_disk_size: 10
  description: "Kubernetes Cluster"
  template: "CKS-Ubuntu-22.04"  # Use the CKS-ready template

# Wait for cluster to be ready
kubernetes_wait_for_cluster: true
kubernetes_wait_timeout: 1800  # 30 minutes

# API timeout
kubernetes_api_timeout: 300
